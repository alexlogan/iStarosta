<% title "#{@group.name} - Дисциплины" %>


<%= link_to 'Новая дисциплина', new_lesson_path, class: can?(:create, @group.lessons.build) ? "btn btn-success" : "btn btn-success disabled" %> <br/> <br/>
<table class="table table-responsive">
  <thead>
  <tr>
    <th>#</th>
    <th class="text-center">Название</th>
    <th class="text-center">Управление</th>
  </tr>
  </thead>
  <tbody>
  <% @lessons.each_with_index do |lesson, index| %>
      <tr>
        <th class="row"><%= index+1 %></th>
        <th class="text-center"><%= link_to lesson.name, lesson_logs_path(lesson.id) %></th>
        <td class="text-center">
          <div class="btn-group" role="group" aria-label="...">
            <%= link_to 'Посмотреть журнал', lesson_logs_path(lesson.id), class: "btn btn-success" %>
            <%= link_to 'Изменить', edit_lesson_path(lesson), class: can?(:update, lesson) ? "btn btn-primary" : "btn btn-primary disabled" %>
            <%= link_to 'Удалить', lesson,
                        method: :delete, data: { confirm: 'Вы уверены?' },
                        class: can?(:destroy, lesson) ? "btn btn-danger" : "btn btn-danger disabled"%>
          </div>
        </td>
      </tr>
  <% end %>
  </tbody>
</table>
